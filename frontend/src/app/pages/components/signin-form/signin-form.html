<form class="signin" [formGroup]="form" (ngSubmit)="submit()">
  <h2 class="signin__title">Logowanie</h2>

  <label class="signin__label" for="email">Email</label>
  <div class="input">
    <input
      id="email"
      class="input__field"
      type="email"
      formControlName="email"
      placeholder="Email"
      autocomplete="email"
      [attr.aria-invalid]="form.get('email')?.invalid && form.get('email')?.touched"
      [attr.aria-describedby]="form.get('email')?.invalid && form.get('email')?.touched ? (form.get('email')?.errors?.['required'] ? 'email-error' : 'email-error-format') : null"
    />
    <span class="input__icon" aria-hidden="true">
      <app-form-icon name="email"></app-form-icon>
    </span>
  </div>
  <span id="email-error" class="signin__error" *ngIf="form.get('email')?.touched && form.get('email')?.errors?.['required']">
    Email jest wymagany
  </span>
  <span id="email-error-format" class="signin__error" *ngIf="form.get('email')?.touched && form.get('email')?.errors?.['email']">
    Podaj poprawny adres email
  </span>

  <label class="signin__label" for="password">Hasło</label>
  <div class="input">
    <input
      id="password"
      class="input__field"
      [type]="hide ? 'password' : 'text'"
      formControlName="password"
      placeholder="Password"
      autocomplete="current-password"
      [attr.aria-invalid]="form.get('password')?.invalid && form.get('password')?.touched"
      [attr.aria-describedby]="form.get('password')?.invalid && form.get('password')?.touched ? (form.get('password')?.errors?.['required'] ? 'password-error' : 'password-error-length') : null"
    />
    <button type="button" class="input__icon input__icon--btn" (click)="togglePassword()" aria-label="Pokaż/ukryj hasło">
      <app-form-icon [name]="hide ? 'eye' : 'eye-off'"></app-form-icon>
    </button>
  </div>
  <span id="password-error" class="signin__error" *ngIf="form.get('password')?.touched && form.get('password')?.errors?.['required']">
    Hasło jest wymagane
  </span>

  <div class="signin__actions">
    <app-button label="Akceptuj" variant="basic-accept" navigateTo="/home"> </app-button>
  </div>
  
  <div class="signin__forgot-password">
    <a routerLink="/forgot-password" class="signin__forgot-link">Zapomniałeś hasła?</a>
  </div>
</form>
