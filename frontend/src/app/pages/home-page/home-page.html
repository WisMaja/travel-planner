<div class="content">
  <!-- Top Bar -->
  <app-home-header
    [searchQuery]="searchQuery"
    (searchChange)="onSearchChange($event)">
  </app-home-header>

  <!-- Trips Section -->
  <div class="trips">
    <!-- Quick Stats -->
    <app-trips-stats
      [tripsCount]="tripsCount"
      [upcomingTripsCount]="upcomingTripsCount"
      [nextTrip]="nextTrip">
    </app-trips-stats>

    <app-trips-header
      [title]="'Nadchodzące wyjazdy'"
      [activeFilter]="activeFilter"
      (filterChange)="onFilterChange($event)"
      (sortClick)="onSort()"
      (addClick)="onAddTrip()">
    </app-trips-header>

    <!-- Trips List -->
    <app-trips-list
      *ngIf="!isLoading"
      [trips]="filteredTrips"
      [navigateTo]="'/plan/overview'"
      (tripClick)="onTripClick($event)">
    </app-trips-list>
    
    <!-- Loading State -->
    <div class="trips-loading" *ngIf="isLoading">
      <div class="trips-loading__spinner"></div>
      <p class="trips-loading__text">Ładowanie planów...</p>
    </div>
  </div>

  <!-- Map -->
  <div class="map">
    <app-google-map
      [places]="placesForMap"
      [center]="{ lat: 50.0647, lng: 19.9450 }"
      [zoom]="4"
      [height]="'100%'"
      [width]="'100%'"
      [showControls]="true"
      [autoFitBounds]="true"
      [displayMode]="'full'">
    </app-google-map>
  </div>
</div>
